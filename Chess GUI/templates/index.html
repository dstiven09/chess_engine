<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chess Board</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/chess.js/0.12.0/chess.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/chessboard.js/1.0.0/chessboard-1.0.0.min.js"></script>
</head>
<body>
    <div id="piece-selection">
        <div class="piece-row" id="black-pieces">
            <div class="piece" draggable="true" data-piece="r" style="background-image: url('{{ url_for('static', filename='images/black_rook.png') }}')"></div>
            <div class="piece" draggable="true" data-piece="n" style="background-image: url('{{ url_for('static', filename='images/black_knight.png') }}')"></div>
            <div class="piece" draggable="true" data-piece="b" style="background-image: url('{{ url_for('static', filename='images/black_bishop.png') }}')"></div>
            <div class="piece" draggable="true" data-piece="q" style="background-image: url('{{ url_for('static', filename='images/black_queen.png') }}')"></div>
            <div class="piece" draggable="true" data-piece="k" style="background-image: url('{{ url_for('static', filename='images/black_king.png') }}')"></div>
            <div class="piece" draggable="true" data-piece="p" style="background-image: url('{{ url_for('static', filename='images/black_pawn.png') }}')"></div>
        </div>
        <div class="piece-row" id="white-pieces">
            <div class="piece" draggable="true" data-piece="R" style="background-image: url('{{ url_for('static', filename='images/white_rook.png') }}')"></div>
            <div class="piece" draggable="true" data-piece="N" style="background-image: url('{{ url_for('static', filename='images/white_knight.png') }}')"></div>
            <div class="piece" draggable="true" data-piece="B" style="background-image: url('{{ url_for('static', filename='images/white_bishop.png') }}')"></div>
            <div class="piece" draggable="true" data-piece="Q" style="background-image: url('{{ url_for('static', filename='images/white_queen.png') }}')"></div>
            <div class="piece" draggable="true" data-piece="K" style="background-image: url('{{ url_for('static', filename='images/white_king.png') }}')"></div>
            <div class="piece" draggable="true" data-piece="P" style="background-image: url('{{ url_for('static', filename='images/white_pawn.png') }}')"></div>
        </div>
        <div>
            <label for="setup-mode">Setup Mode</label>
            <input type="checkbox" id="setup-mode">
        </div>

        <!-- Castling Rights Toggles -->
        <div id="castling-toggles">
            <h3>Castling Rights</h3>
            <label for="hasWhiteKingMovedToggle">White King Moved</label>
            <input type="checkbox" id="hasWhiteKingMovedToggle">

            <label for="hasWhiteRookKingSideMovedToggle">White Kingside Rook Moved</label>
            <input type="checkbox" id="hasWhiteRookKingSideMovedToggle">

            <label for="hasWhiteRookQueenSideMovedToggle">White Queenside Rook Moved</label>
            <input type="checkbox" id="hasWhiteRookQueenSideMovedToggle">

            <label for="hasBlackKingMovedToggle">Black King Moved</label>
            <input type="checkbox" id="hasBlackKingMovedToggle">

            <label for="hasBlackRookKingSideMovedToggle">Black Kingside Rook Moved</label>
            <input type="checkbox" id="hasBlackRookKingSideMovedToggle">

            <label for="hasBlackRookQueenSideMovedToggle">Black Queenside Rook Moved</label>
            <input type="checkbox" id="hasBlackRookQueenSideMovedToggle">
        </div>

        <!-- FEN Input Field moved under Castling Rights -->
        <div id="fen-input-container">
            <label for="fen-input">FEN:</label>
            <input type="text" id="fen-input" class="fen-input" placeholder="Enter FEN" required>
        </div>
    </div>

    <div class="container">
        <div id="chess-board-container">
            <div id="chess-board"></div>
        </div>
        <div class="sidebar">
            <form id="fen-form">
                <!-- FEN input removed from here -->
                <select id="turn-select">
                    <option value="w">White to move</option>
                    <option value="b">Black to move</option>
                </select>
                <label for="depth-input">Analysis Depth:</label>
                <input type="number" id="depth-input" placeholder="Enter depth" min="1" value="23" required>
                <label for="moves-input">Number of Moves:</label>
                <input type="number" id="moves-input" placeholder="Enter number of moves" min="1" value="15" required>
                <button type="submit">Analyze</button>
            </form>
            <button id="clear-board">Clear Board</button>
            <button id="starting-position">Starting Position</button>
            <div id="output"></div>
            <div id="pgn-output"></div>
        </div>
    </div>
    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>